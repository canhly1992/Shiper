<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>PHIẾU KHÁM MẮT</title>
  <style>
    body {
      font-family: 'Times New Roman', serif;
      background-color: white;
      padding: 20px;
    }
    h2, h3 {
      text-align: center;
      margin: 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }
    td, th {
      border: 1px dashed black;
      padding: 6px;
      text-align: center;
    }
    .no-border {
      border: none !important;
    }
    .header, .sub-header {
      text-align: center;
    }
    .info-table td {
      text-align: left;
    }
  </style>
  <script>
    function getParam(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name) || "";
    }

    window.onload = function () {
      const fields = [
        "hoten", "namsinh", "gioitinh", "diachi", "sdt", "id",
        "ngaykiemtra", "bs",
        "od_ucva", "os_ucva",
        "od_sphere_now", "os_sphere_now",
        "od_cylinder_now", "os_cylinder_now",
        "od_axis_now", "os_axis_now",
        "od_sphere_fix", "os_sphere_fix",
        "od_cylinder_fix", "os_cylinder_fix",
        "od_axis_fix", "os_axis_fix",
        "od_add", "os_add",
        "od_bcva", "os_bcva",
        "pd", "tlgan", "ghichu"
      ];

      fields.forEach(field => {
        const el = document.getElementById(field);
        if (el) {
          el.innerText = getParam(field);
        }
      });

      setTimeout(() => window.print(), 1000);
    };
  </script>
</head>
<body>

  <h3>3H OPTICAL</h3>
  <div class="header">Địa chỉ: 314 Nguyễn Thượng Hiền, P5, Q.Phú Nhuận, TPHCM</div>
  <div class="header">Điện thoại: 756000</div>

  <h2>THÔNG TIN KHÁCH HÀNG</h2>

  <table class="info-table">
    <tr>
      <td>Họ và tên: <span id="hoten"></span></td>
      <td>Mã số (ID): <span id="id"></span></td>
    </tr>
    <tr>
      <td>Giới tính: <span id="gioitinh"></span></td>
      <td>Năm sinh: <span id="namsinh"></span></td>
    </tr>
    <tr>
      <td>Địa chỉ: <span id="diachi"></span></td>
      <td>SĐT: <span id="sdt"></span></td>
    </tr>
    <tr>
      <td>Bác sĩ / KTV: <span id="bs"></span></td>
      <td>Ngày kiểm tra: <span id="ngaykiemtra"></span></td>
    </tr>
  </table>

  <h3>KHÚC XẠ HIỆN TẠI</h3>
  <table>
    <tr>
      <th></th>
      <th>UCVA</th><th>Sphere</th><th>Cylinder</th><th>Axis</th>
    </tr>
    <tr>
      <td>Mắt Phải (OD)</td>
      <td id="od_ucva"></td><td id="od_sphere_now"></td><td id="od_cylinder_now"></td><td id="od_axis_now"></td>
    </tr>
    <tr>
      <td>Mắt Trái (OS)</td>
      <td id="os_ucva"></td><td id="os_sphere_now"></td><td id="os_cylinder_now"></td><td id="os_axis_now"></td>
    </tr>
  </table>

  <h3>KHÚC XẠ ĐIỀU CHỈNH</h3>
  <table>
    <tr>
      <th></th>
      <th>Sphere</th><th>Cylinder</th><th>Axis</th><th>ADD</th><th>BCVA</th>
    </tr>
    <tr>
      <td>Mắt Phải (OD)</td>
      <td id="od_sphere_fix"></td><td id="od_cylinder_fix"></td><td id="od_axis_fix"></td><td id="od_add"></td><td id="od_bcva"></td>
    </tr>
    <tr>
      <td>Mắt Trái (OS)</td>
      <td id="os_sphere_fix"></td><td id="os_cylinder_fix"></td><td id="os_axis_fix"></td><td id="os_add"></td><td id="os_bcva"></td>
    </tr>
  </table>

  <br>
  <table>
    <tr>
      <td>PD: <span id="pd"></span></td>
      <td>Thị lực gần tốt nhất (TL Gần): <span id="tlgan"></span></td>
    </tr>
    <tr>
      <td colspan="2">Ghi chú: <span id="ghichu"></span></td>
    </tr>
  </table>

</body>
</html>
