<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>PHIẾU THU TIỀN</title>
  <style>
    @page { size: A5 portrait; margin: 8mm; }
    body {
      font-family: "Times New Roman", serif;
      font-size: 12px;
      margin: 0;
      padding: 0;
      color: #000;
    }
    .header {
      width: 100%;
      margin-bottom: 5px;
      font-size: 12px;
      line-height: 1.3;
    }
    .header p { margin: 0; }
    .title {
      text-align: center;
      font-weight: bold;
      font-size: 16px;
      margin: 4px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }
    th, td {
      border: 1px solid #000;
      padding: 4px;
      text-align: center;
    }
    td.left { text-align: left; }
    td.right { text-align: right; }
    .total {
      font-weight: bold;
      background: #f5f5f5;
    }
    .highlight {
      background: yellow;
      color: red;
      font-weight: bold;
    }
    .sign-block {
      margin-top: 15px;
      font-size: 11px;
      width: 100%;
      display: flex;
      justify-content: space-between;
    }
    .sign-col {
      width: 45%;
      text-align: center;
    }
    .note {
      font-size: 11px;
      margin-top: 5px;
      color: red;
      font-style: italic;
    }
  </style>
</head>
<body>

  <div class="header">
    <p>122 Nơ, Từ Hoa, Quảng An, Tây Hồ.</p>
    <p>Contact: +84328.972.855 (Mr Long Management)</p>
    <p>Date: <span id="ngay"></span></p>
  </div>

  <div class="title">RECEIPTS ROOM 503</div>

  <table>
    <tr>
      <td class="left"><b>Full Name:</b> <span id="hoten"></span></td>
      <td class="left"><b>Phone:</b> <span id="sdt"></span></td>
    </tr>
    <tr>
      <td colspan="2" class="left"><b>Address:</b> <span id="diachi"></span></td>
    </tr>
  </table>

  <table style="margin-top:8px;">
    <thead>
      <tr>
        <th>Item</th>
        <th>First</th>
        <th>End</th>
        <th>Quantity</th>
        <th>Unit Price</th>
        <th>Amount</th>
        <th>Remark</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="left">The Rent</td>
        <td>1</td><td></td><td>1</td>
        <td class="right">19,000,000</td>
        <td class="right">19,000,000</td>
        <td></td>
      </tr>
      <tr>
        <td class="left">Electricity</td>
        <td>68355</td><td>68937</td><td>582</td>
        <td></td>
        <td class="right">2,652,000</td>
        <td>Meter 2: 17569 - 17488 = 81</td>
      </tr>
      <tr>
        <td class="left">Other</td>
        <td colspan="4"></td>
        <td class="right">500,000</td>
        <td></td>
      </tr>
      <tr class="total">
        <td colspan="5" class="right">TOTAL</td>
        <td class="right">22,152,000</td>
        <td></td>
      </tr>
    </tbody>
  </table>

  <p><b>The total amount payable:</b> <span style="color:red;">22,152,000 VNĐ</span></p>

  <table>
    <tr>
      <td class="left" colspan="3">
        <b>Transfer Information:</b><br>
        NAME ACCOUNT: <span id="tenTk"></span><br>
        NUMBER ACCOUNT: <span id="soTk"></span><br>
        Bank Name: <span id="nganHang"></span><br>
        <b>Transfer Content:</b><br>
        <span id="noiDung" class="highlight"></span>
      </td>
      <td style="width:140px; text-align:center;">
        <img id="qrcode" style="width:120px; height:120px;">
      </td>
    </tr>
  </table>

  <p class="note">IMPORTANT: Using the correct content of the message if it is wrong, it will be considered as not collecting money yet - QUAN TRỌNG: Sử dụng đúng nội dung tin nhắn nếu sai coi như chưa thu tiền.</p>

  <div class="sign-block">
    <div class="sign-col">
      <b>Khách hàng</b><br>(Ký và ghi rõ họ tên)
    </div>
    <div class="sign-col">
      <b>Người thu tiền</b><br>(Ký và ghi rõ họ tên)
    </div>
  </div>

  <script>
    // Hàm tạo QR bằng Google Chart
    function makeQR(text) {
      return "https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=" + encodeURIComponent(text);
    }

    // Dữ liệu mẫu
    const hoTen = "EMMA MARGARET POOK";
    const sdt = "0856.162.134";
    const diaChi = "122 No, Tu Hoa, Quang An, Tay Ho.";
    const tenTk = "VU VAN TOAN";
    const soTk = "628630686888";
    const nganHang = "Techcombank";
    const noiDung = "122.TUHOA.503 TT BILL TH 9";

    // Gán dữ liệu
    document.getElementById("hoten").innerText = hoTen;
    document.getElementById("sdt").innerText = sdt;
    document.getElementById("diachi").innerText = diaChi;
    document.getElementById("tenTk").innerText = tenTk;
    document.getElementById("soTk").innerText = soTk;
    document.getElementById("nganHang").innerText = nganHang;
    document.getElementById("noiDung").innerText = noiDung;

    // Ngày hiện tại
    const today = new Date();
    document.getElementById("ngay").innerText =
      String(today.getDate()).padStart(2,'0') + "/" +
      String(today.getMonth()+1).padStart(2,'0') + "/" +
      today.getFullYear();

    // Sinh QR code
    const qrData = `BANK:${nganHang}\nACC:${soTk}\nND:${noiDung}`;
    document.getElementById("qrcod
